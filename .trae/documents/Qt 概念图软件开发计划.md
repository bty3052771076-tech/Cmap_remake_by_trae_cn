# Qt 概念图软件（类似 CmapTools）开发计划

## 项目概述

使用 Qt 6.10.1 开发一个类似 CmapTools 的概念图软件，支持创建、编辑、保存和导出概念图。

## 已完成的规划文档（保存在 `d:\AI\trae\prj_2\docs\`）

### 1. 产品设计文档

* **产品功能需求文档 (PRD.md)** - 核心功能、用户故事、功能优先级

* **用户界面设计规范 (UI\_Design\_Specification.md)** - 界面布局、交互设计、配色方案

* **技术架构设计文档 (Technical\_Architecture.md)** - 技术栈、系统架构、性能考虑

* **模块划分和职责文档 (Module\_Design.md)** - 核心模块、模块职责、接口设计

* **数据结构设计文档 (Data\_Structure\_Design.md)** - 数据模型、文件格式、存储方案

### 2. 开发规划文档

* **项目总体规划 (project\_plan.md)** - 目录结构、构建配置、开发计划

* **架构设计文档 (design/architecture.md)** - 架构风格、设计模式、模块设计

* **类图文档 (design/classdiagram.md)** - 核心类关系、命令类、样式管理类

## 核心功能模块

### 1. 图形渲染模块

* 使用 QGraphicsScene 和 QGraphicsView

* 实现无限画布（缩放、平移）

* 支持概念节点和连接线的渲染

### 2. 节点管理模块

* 创建、编辑、删除概念节点

* 文本编辑功能

* 自定义颜色和样式

* 拖拽移动节点

### 3. 连接线管理模块

* 创建有向连接线

* 带标签的连接线

* 自动路由和布局

### 4. 文件操作模块

* 新建、打开、保存概念图

* 导出为 PNG、PDF、SVG 格式

* JSON 格式数据存储

### 5. 撤销/重做模块

* 使用 QUndoStack 和命令模式

* 支持多级撤销/重做

### 6. 样式管理模块

* 多种预设配色方案

* 自定义样式

* 样式导入/导出

### 7. 用户界面模块

* 中文界面

* 工具栏、菜单栏、属性面板

* 状态栏显示

## 技术栈

* **框架**: Qt 6.10.1

* **语言**: C++17

* **构建工具**: CMake

* **核心框架**: Graphics View Framework + Undo Framework

* **数据格式**: JSON

## 项目目录结构

```
prj_2/
├── CMakeLists.txt
├── src/
│   ├── core/           # 核心模块
│   ├── graphics/       # 图形渲染
│   ├── commands/       # 命令模式
│   ├── models/         # 数据模型
│   ├── managers/       # 管理器
│   └── ui/             # 用户界面
├── resources/          # 资源文件
├── docs/               # 文档
└── tests/              # 测试
```

## 开发阶段（共10周）

1. **第一阶段（2周）**: 基础框架搭建
2. **第二阶段（3周）**: 核心功能实现
3. **第三阶段（2周）**: 高级功能实现
4. **第四阶段（2周）**: 测试和优化
5. **第五阶段（1周）**: 文档和发布

## 实施步骤

1. ✅ 创建项目规划文档（已完成）
2. ⏭️ 创建项目目录结构
3. ⏭️ 配置 CMake 构建系统
4. ⏭️ 实现核心数据模型
5. ⏭️ 实现图形渲染模块
6. ⏭️ 实现节点和连接线功能
7. ⏭️ 实现文件操作
8. ⏭️ 实现撤销/重做
9. ⏭️ 实现样式管理
10. ⏭️ 实现用户界面
11. ⏭️ 测试和优化

## 代码规范

* 所有代码使用中文注释

* 遵循 Qt 编码规范

* 使用 C++17 特性

* 代码具有可读性和可维护性

